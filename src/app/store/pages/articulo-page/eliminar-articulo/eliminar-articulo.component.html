<div class="loading-overlay" *ngIf="isLoading">
  <div class="spinner-container">
    <div class="spinner"></div>
    <h2>Loading...</h2>
  </div>
</div>

<section id="articulos">
  <div class="overlay">
    <div class="container px-5">
      <div class="row justify-content-center">
        <div class="col-lg-10">
          <h2 class="text-center mb-4">ELIMINAR ARTÍCULO</h2>
          <p class="lead text-center">Seleccione el nombre del artículo que desea eliminar. Una vez seleccionado, puede revisar los detalles del artículo antes de proceder con su eliminación.</p>
          <div class="article-box mt-4">
            <form [formGroup]="articuloForm">
              <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <select id="nombre" class="form-select" formControlName="nombre" aria-label="Nombre" (change)="onArticuloChange()">
                  <option value="">Selecciona un Nombre</option>
                  <option *ngFor="let articulo of articulosLista" [value]="articulo.nombre">{{ articulo.nombre }}</option>
                </select>
                <span *ngIf="isValidFieldArticuloForm('nombre')" class="form-text text-danger mt-2">
                  {{getFieldErrorArticuloForm('nombre')}}
                </span>
              </div>
              <div class="mb-3 d-grid gap-2 d-md-flex justify-content-md-end">
                <button class="btn btn-dark me-md-2" (click)="verArticuloPorNombre()" [disabled]="articuloForm.invalid">Mostrar Artículo Antes de Eliminar</button>
              </div>
            </form>
          </div>
          <div id="card" class="mt-3" *ngIf="mostrarTabla">
            <div class="card mb-3">
              <div class="card-body">
                <p class="card-text"><strong>Nombre:</strong> {{ articulo?.nombre }}</p>
                <p class="card-text"><strong>Descripción:</strong> {{ articulo?.descripcion }}</p>
                <p class="card-text"><strong>Fabricante:</strong> {{ articulo?.fabricante }}</p>
                <p class="card-text"><strong>Peso:</strong> {{ articulo?.peso }} kg</p>
                <p class="card-text"><strong>Altura:</strong> {{ articulo?.altura }} cm</p>
                <p class="card-text"><strong>Ancho:</strong> {{ articulo?.ancho }} cm</p>
                <p class="card-text"><strong>Precio:</strong> {{ articulo?.precio }}€</p>
                <p class="card-text"><strong>Estado:</strong> {{ articulo?.estadoArticulo }}</p>
                <p class="card-text"><strong>Foto:</strong></p>
                <img [src]="articulo?.foto" class="card-img" alt="">
              </div>
            </div>
            <div class="mb-3 d-grid gap-2 d-md-flex justify-content-md-center">
              <button *ngIf="articuloCargado" class="btn btn-danger mt-3" (click)="eliminarArticulo()">Eliminar Artículo</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
