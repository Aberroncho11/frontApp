<div class="loading-overlay" *ngIf="isLoading">
  <div class="spinner-container">
    <div class="spinner"></div>
    <h2>Loading...</h2>
  </div>
</div>

<section id="usuario">

  <div class="overlay">

    <div class="container px-5">

      <div class="row justify-content-center">

        <div class="col-lg-10">

          <h2 class="text-center mb-4">ELIMINAR USUARIO</h2>

          <p class="lead text-center">Seleccione el usuario que desea eliminar. A continuaci칩n, se mostrar치n los detalles del usuario seleccionado. Confirme la eliminaci칩n haciendo clic en el bot칩n correspondiente.</p>

          <div class="article-box mt-4">

            <form [formGroup]="usuarioForm">

              <div class="mb-3">
                <label for="nickname" class="form-label">Nickname</label>
                <select id="nickname" class="form-select" formControlName="nickname" aria-label="Nickname">
                  <option value="">Selecciona un Nickname</option>
                  <option *ngFor="let usuario of usuariosLista" [value]="usuario.nickname">{{ usuario.nickname }}</option>
                </select>
                <span *ngIf="isValidFieldUsuarioForm('nickname')" class="form-text text-danger">
                  {{getFieldErrorUsuarioForm('nickname')}}
                </span>
              </div>

              <div class="mb-3 d-grid gap-2 d-md-flex justify-content-md-end">
                <button class="btn btn-dark me-md-2" (click)="verUsuariosPorNickname()" [disabled]="usuarioForm.invalid">Mostrar Usuario Antes de Eliminar</button>
              </div>

            </form>

          </div>

          <div class="row mt-4 d-flex justify-content-center" *ngIf="mostrarTabla">

            <div class="card col-6 mb-5">

              <div class="card-body w-50">

                <h5 class="card-title">Id usuario: {{ usuario?.idUsuario }}</h5>

                <p class="card-text"><strong>Perfil:</strong> {{ usuario?.perfil }}</p>

                <p class="card-text"><strong>Email:</strong> {{ usuario?.email }}</p>

                <p class="card-text"><strong>Nickname:</strong> {{ usuario?.nickname }}</p>

                <p class="card-text"><strong>Estado:</strong> {{ usuario?.estadoUsuario}}</p>

              </div>

            </div>

            <div class="mt-2 d-grid gap-2 d-md-flex justify-content-md-center">
              <button *ngIf="usuarioCargado" class="btn btn-danger" (click)="eliminarUsuario()">Eliminar Usuario</button>
            </div>

          </div>

        </div>

      </div>

    </div>

  </div>

</section>
