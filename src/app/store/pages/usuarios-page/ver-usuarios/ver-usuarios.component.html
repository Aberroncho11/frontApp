<div class="loading-overlay" *ngIf="isLoading">
  <div class="spinner-container">
    <div class="spinner"></div>
    <h2>Loading...</h2>
  </div>
</div>

<section id="usuarios">

  <div class="overlay">

    <div class="container-lg">

      <div class="row justify-content-center">

        <div class="col-lg-10">

          <h2 class="text-center mb-4">VER USUARIOS</h2>

          <p class="lead text-center">
            A continuación se muestran todos los usuarios registrados en el sistema. Puedes ver sus detalles y estado actual.
          </p>

          <!--Botón ver pedidos-->
          <button class="btn btn-dark d-block mx-auto mb-3" *ngIf="!mostrarTabla" (click)="verUsuarios()">Ver usuarios</button>

          <!--Botón ocultar-->
          <button class="btn btn-dark d-block mx-auto mb-3" *ngIf="mostrarTabla" (click)="ocultarTabla()">Ocultar</button>

          <!--Pedidos-->
          <div *ngIf="mostrarTabla" class="mt-4">

            <div class="row">

              <ng-container *ngFor="let usuario of paginatedUsuarios">

                <div class="col-lg-4 col-md-6 mb-4" *ngIf="usuario">

                  <div class="card mb-3">

                    <div class="card-body">

                      <h5 class="card-title">Usuario: {{ usuario.idUsuario }}</h5>

                      <p class="card-text"><strong>Perfil:</strong> {{ usuario.perfil }}</p>

                      <p class="card-text"><strong>Email:</strong> {{ usuario.email }}</p>

                      <p class="card-text"><strong>Nickname:</strong> {{ usuario.nickname }}</p>

                      <p class="card-text"><strong>Estado:</strong> {{ usuario.estadoUsuario}}</p>

                    </div>

                  </div>

                </div>

              </ng-container>

              <mat-paginator [pageSize]="pageSize" [length]="totalItems" (page)="onPageChange($event)"></mat-paginator>

            </div>

          </div>

        </div>

      </div>

    </div>

  </div>

</section>
